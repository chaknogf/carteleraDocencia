<app-navbar></app-navbar>

<section class="dashboard-container">
  <!-- Título principal -->
  <header class="text-center mb-4">
    <h2 class="titulo">📊 Reporte de Actividades de Docencia</h2>
    <p class="subtitulo">Hospital General Tipo I de Tecpán Guatemala</p>
  </header>

  <!-- Filtros -->
  <form class="filtros glass-panel" >
    <div class="input-group">
      <label for="anio">Año</label>
      <input
        type="number"
        id="anio"
        [(ngModel)]="buscarAnio"
        name="anio"
        min="2024"
        max="2100"
        placeholder="Ej. 2025"
      />
    </div>

    <div class="input-group">
      <label for="mes">Mes</label>
      <input
        type="number"
        id="mes"
        [(ngModel)]="buscarMes"
        name="mes"
        min="1"
        max="12"
        placeholder="Ej. 10"
      />
    </div>

    <div class="acciones">
      <button type="button" class="btn-accion primary" >
        🔍 Generar
      </button>
      <button type="button" class="btn-accion success" (click)="exportarActividadesExcel()">
        📥 Excel
      </button>
      <button type="button" class="btn-accion secondary" (click)="volver()">
        ↩ Volver
      </button>
    </div>
  </form>

  <!-- Contenido principal -->
  <div class="contenido-grid">
    <!-- Gráfico de ejecución -->
    <div class="glass-panel grafico" >
      <h4 class="panel-title">Ejecución por Estado de Dirección</h4>
      <canvas id="graficoEjecucion" >
        <div *ngFor="let data of direccion">
          <label for="">{{data.servicio_encargado}}</label>
          <div class="progress">
            <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%;" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{data.total}}</div>
          </div>

        </div>

      </canvas>
    </div>

    <!-- Resumen de Totales -->
    <div class="glass-panel resumen">
      <h4 class="panel-title">Resumen</h4>
      <ul class="resumen-lista">
        <li><span>✅ Completas:</span> {{ resumen.completadas }}</li>
        <li><span>📅 Programadas:</span> {{ resumen.programadas }}</li>
        <li><span>🔁 Reprogramadas:</span> {{ resumen.reprogramadas }}</li>
        <li><span>🚫 Anuladas:</span> {{ resumen.anuladas }}</li>
        <li class="total"><span>📊 Total:</span> {{ resumen.total }}</li>
      </ul>
    </div>
  </div>
</section>
