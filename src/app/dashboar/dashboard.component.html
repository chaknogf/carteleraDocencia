<app-navbar></app-navbar>

<section class="dashboard-container">
  <!-- TÃ­tulo -->
  <header class="header-section">
    <h2 class="titulo">ğŸ“Š Reporte de Actividades de Docencia</h2>
  </header>

  <!-- Filtros y reportes -->
  <section class="filtros-grid">
    <!-- Formulario de AutorizaciÃ³n -->
    <form class="filtros glass-panel">
      <legend>Generar Cronograma de AutorizaciÃ³n</legend>
      <div class="input-row">
        <div class="input-group">
          <label for="anio">AÃ±o</label>
          <input
            type="number"
            id="anio"
            [(ngModel)]="anioSeleccion"
            name="anio"
            min="2024"
            max="2100"
            placeholder="Ej. 2025"
          />
        </div>
        <div class="acciones">
          <button
            type="button"
            class="btn-accion primary"
            (click)="cronograma()"
          >
            ğŸ“‘ Informe
          </button>
        </div>
      </div>
    </form>

    <!-- Formulario de Reportes -->
    <form class="filtros glass-panel">
      <legend>Generar Reportes</legend>
      <div class="input-row">
        <div class="input-group">
          <label for="anio">AÃ±o</label>
          <input
            type="number"
            id="anio"
            [(ngModel)]="buscarAnio"
            name="anio"
            min="2024"
            max="2100"
            placeholder="Ej. 2025"
          />
        </div>

        <div class="input-group">
          <label for="mes">Mes</label>
          <input
            type="number"
            id="mes"
            [(ngModel)]="buscarMes"
            name="mes"
            min="1"
            max="12"
            placeholder="Ej. 10"
          />
        </div>

        <div class="acciones">
          <button
            type="button"
            class="btn-accion success"
            (click)="descargarReporteTodos()"
          >
            ğŸ“¥ Excel
          </button>
          <button
            type="button"
            class="btn-accion btn-light"
            (click)="cronograma()"
          >
            ğŸ“‘ Informe
          </button>
        </div>
      </div>
    </form>
  </section>

  <!-- GrÃ¡fico -->
  <section class="chart-section">
    <div class="chart">
      <div
        class="bar"
        *ngFor="let data of ejecutados; let i = index"
        [style.--value]="data.ejecutado * 100 + '%'"
        title="{{ data.servicio_encargado }}"
      >
        <div class="bar-inner">
          <span class="bar-value"
            >{{ data.ejecutado * 100 | number: "1.0-0" }}%</span
          >
        </div>
        <span class="bar-label">{{ data.servicio_encargado }}</span>
      </div>
    </div>
  </section>

  <!-- Resumen -->
  <section class="contenido-grid">
    <div class="glass-panel resumen">
      <h4 class="panel-title">Resumen</h4>
      <ul class="resumen-lista">
        <li><span>âœ… Completas:</span> {{ resumen.completadas }}</li>
        <li><span>ğŸ“… Programadas:</span> {{ resumen.programadas }}</li>
        <li><span>ğŸ” Reprogramadas:</span> {{ resumen.reprogramadas }}</li>
        <li><span>ğŸš« Anuladas:</span> {{ resumen.anuladas }}</li>
        <li class="total"><span>ğŸ“Š Total:</span> {{ resumen.total }}</li>
      </ul>
    </div>
  </section>
</section>
